{% extends "base.html" %}

{% block title %}Мои статьи{% endblock %}
{% block header %}Мои статьи{% endblock %}

{% block content %}
    <h1>Мои статьи</h1>
    
    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}
    
    {% if success %}
        <div class="success">{{ success }}</div>
    {% endif %}
    
    {% if articles %}
        {% for article in articles %}
            <div class="article">
                <h2>{{ article['title'] }}</h2>
                <p>{{ article['article_text'] }}</p>
                <div class="article-actions">
                    <a href="/lab5/edit/{{ article['id'] }}" class="btn btn-primary">Редактировать</a>
                    <form action="/lab5/delete/{{ article['id'] }}" method="POST" style="display: inline;">
                        <button type="submit" class="btn btn-danger" 
                                onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">
                            Удалить
                        </button>
                    </form>
                </div>
                <small>Создано: {{ article.get('created_at', 'неизвестно') }}</small>
            </div>
        {% endfor %}
    {% else %}
        <div class="no-articles">
            <h3>У вас пока нет статей</h3>
            <p>Создайте свою первую статью!</p>
            <a href="/lab5/create" class="btn btn-primary">Создать статью</a>
        </div>
    {% endif %}
{% endblock %}
